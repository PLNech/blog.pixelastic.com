<!doctype html>
<html class="no-js" lang="en-us">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>
     Pixelastic 
  </title>
  <meta name="description" content="Personal blog of Tim Carry. Posting mostly on tech-related stuff.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/forms.css">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

<body class="layout-reverse theme-base-0b">
  <div class="sidebar">
    <div class="container">
      <div class="sidebar-about">
        <h1><a href="/index.html">Pixelastic</a></h1>
        <p class="lead">Personal blog of Tim Carry. Posting mostly on tech-related stuff.</p>
      </div>

      <ul class="sidebar-nav">
        <li class="sidebar-nav-item active">
          <a href="/">Home</a>
        </li>
        <li class="sidebar-nav-item">
          <a href="/about/">About</a>
        </li>
        <li class="sidebar-nav-item">
          <a href="/archive/">Archive</a>
        </li>
      </ul>
      <div class="sidebar-footer">Website code available on <a href="https://github.com/pixelastic/blog.pixelastic.com">GitHub</a></div>
    </div>
  </div>

  <div class="content container">
    <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2011/05/25/working-wednesday-1/">
        Working on Wednesday #1
      </a>
    </h1>

    <span class="post-date">25 May 2011</span>

    <p>Starting June 15th, I&#39;ll stop working at my day job for one day a week.
Instead, I&#39;ll use this time to work on personal projects.</p>

<p>After more than 3 years of freelancing, I&#39;ve been working full time for a very
nice young company (making a great social game) for the past 6 months. Today,
with the public release of the game, I find myself missing freelance.</p>

<p>I liked being able to sleep when too tired, working late at night when really
productive, reading a log of blog posts on various subjects, learning new cool
stuff other did. I kinda miss that on my new job.</p>

<p>Sure our project is damn cool and I really like working on it. I learn a lot,
in fields that I was interested in but never had the chance to explore (server
administration, CDN configuration, memcache, large number of users, etc).</p>

<p>But on the other hand, I&#39;m almost only doing server-side work. I relatively
interesting part of Javascript (nothing fancy) and a really small part of CSS.</p>

<p>And I miss all that front-end part of the job. I also get kind of tired of
using cakePHP. I do like it a lot, but the more I write PHP and read posts
about Ruby, the more I want to switch.</p>

<h2>Working 4 days a week</h2>

<p>I finally made a deal with my boss, for not working on Wednesday. I want to
use that time to relax and learn all those things.</p>

<p>The last time I was working full time for a company, I finally quit because I
thought I was waaaaaaay late behind all the current tech trends. It took me a
couple of month to learn the cool stuff I&#39;m armed with today : jQuery and
cakePHP.</p>

<p>This time, I want to re-learn a whole new world, a better one. Using all I
learnt those past years to make a fresh start.</p>

<h2>What I want to learn</h2>

<p>There&#39;s a lot of things I would love to learn, unordered :</p>

<ul>
<li><code>vim</code> : I want to be able to write code on any machine, easily, and fast</li>
<li><code>ruby</code> / <code>rails</code> : I want to learn Ruby to be able to fully understand Rails. I have a pretty strong knowledge of cakePHP so I guess Rails won&#39;t be too hard for me.</li>
<li><code>git</code> : I like Mercurial, but <code>git</code> seems to be the de-facto VCS for all the social geeks and rails coder, so why not ?</li>
<li><code>sass</code> and <code>haml</code> : Those seems awesome, and were part of the things that make me want to try ruby. Writing CSS and HTML in a non-painful way. I already want to write modules (or are they called gems?) to enhance them, adding webperf optimisations on the fly (creating sprites/dataURI, optimizing selectors, etc).</li>
<li>CoffeeScript, Kafeeine or equivalent : Following the logic behind sass, I want to be able to write Javascript easily. I always encounter issues when my jQuery code became too big, everything gets tangled together. Backbone.js seems interesting too. I&#39;ll have to test all those solution.</li>
<li><code>nodejs</code> : Because it looks kinda fun. I haven&#39;t really understand how it works yet, but it looks fun anyway :)</li>
<li>TDD : This is not a technology, but a way of writing code that I want to learn. I tried it in cakePHP, but I spent so much time writing tests (and making them work), to finally change the implementation and broke the tests that I finally gave up. I still have to understand HOW to do it properly. I thought I read somewhere that this principle was directly intergrated into Ruby (or was it Rails ?) development.</li>
</ul>

<p>To summarize, I want to learn the good tools that will let me focus on the
project(s) I want to make, not fighting to use tools to bend them to my needs.
Writing &quot;uncompiled&quot; css, html or Javascript and having some automation tool
to automatically transform it in the most usable version to use only.</p>

<p>Also, I have already written a pretty decent cakePHP CMS, with a full featured
admin panel that I used when making website for clients. I wanted to put it
open source for all to enjoy but never really knew how to do it. I don&#39;t yet
know if I want to create a whole new CMS in Rails, or if I&#39;ll do custom dev
for each project, or use (and enhancing) existing CMS.</p>

<h2>That&#39;s all for now</h2>

<p>I might have forgotten stuff (I&#39;d want to try couchDB/mongoDB, getting better
at using Linux everyday), but here is a dump of all the things I want to
achieve in the next 6 month, one day per week. I&#39;ll try to post a summary of
what I learned each Wednesday, hoping that it would help others (I know I&#39;ll
surely enjoy looking back at it later).</p>


    <div class="tag-list">
      
        <a href="/tags/ruby-on-rails">#ruby-on-rails</a>
      
        <a href="/tags/tdd">#tdd</a>
      
        <a href="/tags/wednesday">#wednesday</a>
      
        <a href="/tags/git">#git</a>
      
        <a href="/tags/vim">#vim</a>
      
        <a href="/tags/sass">#sass</a>
      
        <a href="/tags/haml">#haml</a>
      
        <a href="/tags/coffeescript">#coffeescript</a>
      
        <a href="/tags/kaffeine">#kaffeine</a>
      
        <a href="/tags/backbone">#backbone</a>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2011/05/24/missing-bits-official-facebook-documentation/">
        Missing bits of the official Facebook documentation
      </a>
    </h1>

    <span class="post-date">24 May 2011</span>

    <p>As a complement to my post about FB.ui undocumented hard limit, here are some
other parts that should be in the documentation.</p>

<h2>Custom html tag</h2>

<p>You have to add <code>xmlns:fb=&quot;http://www.facebook.com/2008/fbml&quot;
xmlns:og=&quot;http://opengraphprotocol.org/schema/&quot;</code> to your main <code>&lt;html&gt;</code>
element.</p>

<p>If you don&#39;t, the <code>&lt;fb:like&gt;</code> (and possibly other <code>&lt;fb:*&gt;</code> elements) won&#39;t
work in IE. I guess those unorthodox tags won&#39;t be interpreted by IE until you
define the correct xmlns.</p>

<h2>Adding a #fb-root</h2>

<p>You also have to add a <code>&lt;div id=&quot;fb-root&quot;&gt;&lt;/div&gt;</code> in your html code. I guess
the Javascript API use it for some stuff, but I don&#39;t really know why.</p>

<p>The Javascript SDK logs an error message asking for this missing element if
you don&#39;t have it.</p>


    <div class="tag-list">
      
        <a href="/tags/fb">#fb</a>
      
        <a href="/tags/facebook">#facebook</a>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2011/05/11/whitelisting-keys-array/">
        Whitelisting keys of an array
      </a>
    </h1>

    <span class="post-date">11 May 2011</span>

    <p>I needed to validate an array create from POSTed data. I wanted to discard all
keys from this array that I didn&#39;t want.</p>

<p>Actually, I wanted to whitelist the array, and only keep keys that were on my
whitelist.</p>

<p>Here is the litte snippet that does it :</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="x">/**</span>
<span class="x">*    Keep only specified keys of the specified array. This is useful to whitelist an array of parameters.</span>
<span class="x">*    \param    $array        Original array</span>
<span class="x">*    \param    $whitelist        Array of keys to keep.</span>
<span class="x">**/</span>
<span class="x">function array_whitelist($array, $whitelist = array()) {</span>
<span class="x">  return array_intersect_key($array, array_flip($whitelist));</span>
<span class="x">}</span>
</code></pre></div>

    <div class="tag-list">
      
        <a href="/tags/php">#php</a>
      
        <a href="/tags/array-intersect">#array-intersect</a>
      
        <a href="/tags/array-flip">#array-flip</a>
      
        <a href="/tags/array-whitelist">#array-whitelist</a>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2011/05/10/hard-limits-fb-ui-post-requests/">
        Hard limits using FB.ui to post Requests
      </a>
    </h1>

    <span class="post-date">10 May 2011</span>

    <p>I hate Facebook documentation. All pages seems out of date, displaying wrong
function signature, obsolete parameters, documentation link pointing to 404
pages, etc, etc.</p>

<p>I&#39;ve lost some hours debugging those calls, finding whatever hard limit
Facebook forced on some of the arguments.</p>

<p>Let us write a very basic example code :</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">FB</span><span class="p">.</span><span class="nx">ui</span><span class="p">({</span>
  <span class="s1">&#39;method&#39;</span> <span class="o">:</span> <span class="s1">&#39;apprequests&#39;</span><span class="p">,</span>
  <span class="s1">&#39;display&#39;</span><span class="o">:</span> <span class="s1">&#39;iframe&#39;</span><span class="p">,</span>
  <span class="s1">&#39;message&#39;</span> <span class="o">:</span> <span class="s2">&quot;Hey, this Request is awesome, just accept it, ok ?&quot;</span><span class="p">,</span>
  <span class="s1">&#39;title&#39;</span> <span class="o">:</span> <span class="s2">&quot;Awesome request incoming&quot;</span><span class="p">,</span>
  <span class="s1">&#39;filters&#39;</span> <span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="s2">&quot;Some friends&quot;</span><span class="p">,</span> <span class="s2">&quot;user_ids&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;97841578&quot;</span><span class="p">,</span> <span class="s2">&quot;548673131&quot;</span><span class="p">,</span> <span class="s2">&quot;[...]&quot;</span><span class="p">]</span><span class="err"> </span> <span class="p">},</span>
    <span class="p">{</span> <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="s2">&quot;Some other friends&quot;</span><span class="p">,</span> <span class="s2">&quot;user_ids&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;97841578&quot;</span><span class="p">,</span> <span class="s2">&quot;56867134&quot;</span><span class="p">,</span> <span class="s2">&quot;[...]&quot;</span><span class="p">]</span><span class="err"> </span> <span class="p">},</span>
  <span class="p">]</span>
<span class="p">});</span>
</code></pre></div>
<p>This should open a Request popup with the custom title and message, as well as
provide a list of friends that you can filter based on two criterias : &quot;Some
friends&quot; and &quot;Some other friends&quot;.</p>

<h2>What will go wrong</h2>

<p>First, you have to know that both the message and title have a character
limit. If you go over it, the popup will simply display something like &quot;An
error occurred, blah blah blah&quot;.</p>

<p>After some fiddling, I discovered that the limit is 50 chars for the title and
255 for the message.</p>

<p><del>Also, there is no limit (as far as I know) to the limit of custom filters
you can set.</del> See update below. But there is one to the max number of
users you can define in a filter. And that number is 1000.</p>

<p>This means that if my <code>user_ids</code> list for any of my custom filters contains
more than 1000 users, the popup will fail. However, you can have as many
filters with 999 users as you want.</p>

<p>Took me a little while to find, and I thought that this could be shared.</p>

<h2>Update</h2>

<p>I found a new hard limit : You can&#39;t set more than 5 filters at a time. If you
add one more, the Request popup will fail.</p>

<h2>New Update</h2>

<p>Also, if you define a callback, don&#39;t forget to <code>return true</code>. Otherwise
Webkit will refuse to close the FB popup and you&#39;ll have to click twice for it
to really close itself.</p>

<h2>Update (bis repetita)</h2>

<p>This one was pretty hard to find but if your filter contains a facebook id of
someone that is not a friend of the currently loggued user, the filter will
display nothing.</p>

<p>In our app, we have a filter of &quot;Neighbors&quot; (as most social games do). But one
of thoses neighbors removed the user from its friends, and we didn&#39;t update
the neighbor list to reflect that, resulting in our &quot;Neighbors&quot; filter being
empty.</p>


    <div class="tag-list">
      
        <a href="/tags/requests">#requests</a>
      
        <a href="/tags/javascript">#javascript</a>
      
        <a href="/tags/fb-ui">#fb-ui</a>
      
        <a href="/tags/facebook">#facebook</a>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2011/05/10/finding-perfect-ssh-host/">
        Finding the perfect SSH host
      </a>
    </h1>

    <span class="post-date">10 May 2011</span>

    <p>I&#39;m trying to find a company providing hosting capabilities. I have a strong
set of pre-requisites.</p>

<h2>Connected through SSH</h2>

<p>I want the server to be accessible through SSH. I don&#39;t need http nor ftp
acces on it.</p>

<p>I&#39;ll host git, mercurial and subversion repositories on it, and will
push(/pull) from(/to) them using ssh.</p>

<p>So, I will need those softs installed, or at least enough power to install
them (even locally).</p>

<h2>Serving as an SSL tunnel</h2>

<p>I also want to be able to create an SSH tunnel through this server. That way I
could be securely connected from any wifi connection using SSL.</p>

<p>The server should have a pretty reasonable bandwidth. I&#39;d also wish to avoid
having it hosted in France. Peering agreement between providers in France are
getting uglier and uglier.</p>

<h2>Secondary accounts for holding websites</h2>

<p>If the same company also provides more conventional hosting, that also could
be an important part of my choice.</p>

<p>What I would like is something as flexible as allowing some websites to use
Apache, and others Lighttpd. Even being able to configure it per subdomain.</p>

<p>Some sites would be running PHP, others Rails, even node.js. I want enough
freedom to configure it and the associated inner config (lighttpd.conf,
php.ini).</p>

<p>I also want to be able to install secondary parts like mongoDB or memcache and
having a full access to their configuration.</p>

<h2>Pricing</h2>

<p>Of course, the cheaper the better, but I know that such an amount of freedom
and features comes with its own price.</p>

<p>Now, let&#39;s review some of the contestants I&#39;ve picked</p>

<h2>Alwaysdata</h2>

<p>They were the first I <a href="http://www.alwaysdata.com/">checked</a>. I heard quite a
good thing about their service and reliability. They really seem to know what
they&#39;re doing.</p>

<p>I&#39;ve tried their free 10Mo plan and am quite satisfied with it. Mercurial,
git, subversion and quite a batch of others softs are already installed. They
also have a pretty 10Mo/s awesome bandwith.</p>

<p>I haven&#39;t tried their hosting plans, but they also seems nice. All default
(shared) hosting provides php, perl, ruby and python.</p>

<p>Their custom (managed dedicated server) provides almost anything you could
want from lightty to memcache, but the price goes high with it to. 350€/month
that is way too much I can afford for what I have in mind.</p>

<p>On the other hand, they not only provide hosting but the whole support package
along with hotline and custom installation.</p>

<h2>Dreamhost</h2>

<p>I&#39;m fond of Dreamhost. I&#39;ve used them for years. They do provide a very nice
shared hosting, with a lot of options to configure. They even allow cronjob
for their admin panel.</p>

<p>And they are cheap, with a customer support very professional, I highly
recommend them for your simple hosting needs.</p>

<p>I haven&#39;t tested their dedicated server version, so can&#39;t really talk about
it.</p>

<p>However, the SSH capabilities of the shared hosting are quite small. They have
git, svn and mercurial installed, but the version are quite outdated. Even the
python version running mercurial was out of date.</p>

<p>You can however download and install them yourself on your account (which I
did), but it is not as full featured as alwaysdata.</p>

<p>Their bandwith is also capped to 1Mo/s.</p>

<h2>OVH</h2>

<p>Haven&#39;t tested yet, but their <a href="https://www.ovh.com/fr/vps/">VPS offer</a> seems
nice for as low as 60€/year.</p>

<p>I have tried the shared hosting offer of OVH before and am mitigated. On one
hand I like some of their features like the automatic backup of your ftp
files, on the other hand their administration panel is a total mess and
accessing the server through SSH is not that simple.</p>

<p>I&#39;ve heard they have a 10Mo/s bandwith. I&#39;ll try to get more information on
this.</p>

<h2>Gandi</h2>

<p>Gandi is an amazing registrar (both technically and ethically). I&#39;ve never had
any issues with their service and can only praise their technical support.</p>

<p>Some years ago, they started doing hosting too. I tested it back then and was
quite disapointed. This was horribly slow and crashed.</p>

<p>I never tried it again since then. I think they improved their service, and I
just asked a test account. Their VPS offer is interesting, the server is
pretty decent from what I can read and the price is still in my range
(12€/month).</p>

<p><em>I&#39;ll continue this review later, with more information. If you, reader, have
any suggestion on a good host filling my need, feel free to post it in the
comments, I&#39;ll review it.</em></p>


    <div class="tag-list">
      
        <a href="/tags/hosting">#hosting</a>
      
        <a href="/tags/alwaysdata">#alwaysdata</a>
      
        <a href="/tags/ovh">#ovh</a>
      
        <a href="/tags/ssh">#ssh</a>
      
        <a href="/tags/gandi">#gandi</a>
      
        <a href="/tags/dreamhost">#dreamhost</a>
      
    </div>
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page16">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page14">Newer</a>
    
  
</div>

  </div>

</body>

</html>
