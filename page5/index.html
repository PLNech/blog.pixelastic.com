<!doctype html>
<html class="no-js" lang="en-us">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>
     Pixelastic 
  </title>
  <meta name="description" content="Personal blog of Tim Carry. Posting mostly on tech-related stuff.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/forms.css">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

<body class="layout-reverse theme-base-0b">
  <div class="sidebar">
    <div class="container">
      <div class="sidebar-about">
        <h1><a href="/index.html">Pixelastic</a></h1>
        <p class="lead">Personal blog of Tim Carry. Posting mostly on tech-related stuff.</p>
      </div>

      <ul class="sidebar-nav">
        <li class="sidebar-nav-item active">
          <a href="/">Home</a>
        </li>
        <li class="sidebar-nav-item">
          <a href="/about/">About</a>
        </li>
        <li class="sidebar-nav-item">
          <a href="/archive/">Archive</a>
        </li>
      </ul>
      <div class="sidebar-footer">Website code available on <a href="https://github.com/pixelastic/blog.pixelastic.com">GitHub</a></div>
    </div>
  </div>

  <div class="content container">
    <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/02/25/blog-hacked/">
        This blog got hacked
      </a>
    </h1>

    <span class="post-date">25 Feb 2012</span>

    <p>Today, at about 9pm (GMT+12), I found my own blog hacked. When I wanted to
access it, I was redirected to a malware site.</p>

<p>Half an hour later, it is back online again, and here is what I did.</p>

<p>First, I downloaded the webpage on my computer using <code>curl
http://www.pixelastic.com/</code>to analyse it in search of a clue on the attack
vector.</p>

<p>Unfortunatly, I couldn&#39;t easily find the culprit. No <code>img</code> tag loading a <code>php</code>
file, no XSS injection that I could find. My guess is that the attacker
tampered the <code>js</code> files loaded to add its own custom evil script. But as my js
files are concatened and compressed in a file with a md5 name, it wasn&#39;t
obvious that they had been compromised.</p>

<p>After that, I <code>ssh</code>ed to the server and tried to find what files where
modified since my last commit. As I&#39;m using Mercurial for that, this was a
simple matter of <code>hg status.</code></p>

<p>And I got a shitload of result. Actually, all my <code>php</code> files had been modified
(and as I&#39;m using cakePHP, that means, a lot of file). Running <code>hg diff</code>, I
found out that all the php code of each file had been replaced with an evil
code (enclosed in several layers of eval+base64).</p>

<p>I updated my working directory to the latest commit with <code>hg update --clean</code>
to get all those files as they were before the attack. Running <code>hg status</code>
once more still showed a bunch of new php files added. Running <code>hg purge</code>
finally get rid of them.</p>

<p>I finally deleted all the compressed css and js files, to force them to be
created again, and that&#39;s it, the website is online again.</p>

<p>I still don&#39;t have a clue on how this happened. How did someone access my
files ? Is that an XSS attack ? Is my password cracked ? Is there another
security weakness I&#39;m not aware of ?</p>

<p>EDIT : Got hacked again. Seeing that the cakePHP Cache files were deleted, I
guess it is a known attack on a cake vulnerability. Got the website up again,
but will fix it as soon as my holidays allow.</p>


    <div class="tag-list">
      
        <a href="/tags/security">#security</a>
      
        <a href="/tags/hack">#hack</a>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/01/23/putting-tedtalk-mp3-player/">
        Downloading all the TEDTalk podcasts
      </a>
    </h1>

    <span class="post-date">23 Jan 2012</span>

    <p>As I&#39;m about to move for a couple of long months without an internet
connection and a lot of travel hours, I thought of downloading the TEDTalk
podcasts.</p>

<p>Being a linux user for about a year now, I&#39;m taking the habit of using the
linux tools to do the boring and repetitive work. Downloading more than a
hundred files seems like a good candidate for a script.</p>

<p>The complete list of audio podcasts is available <a href="https://spreadsheets.g%0Aoogle.com/pub?key=0Ahz_ZQm7pkwTdFBVWXBLOFNGSkdsVFgxc0Y0bk9lc0E">here</a>. I simply
selected all text and copied it into a <code>file.txt</code>.</p>

<p>Then, it was simply a matter of extracting only the urls, and feeding them to
<code>wget</code></p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">cat file.txt <span class="p">|</span> tr <span class="s1">&#39; &#39;</span> <span class="s1">&#39;\n&#39;</span> <span class="p">|</span> tr <span class="s1">&#39;\t&#39;</span> <span class="s1">&#39;\n&#39;</span> <span class="p">|</span> grep http &gt; list.txt
wget --no-clobber -i list.txt
</code></pre></div>
<p>This took a while to download as there are more than 400 files, but that way
I&#39;ll have some interesting talks to listen to during my trip.</p>


    <div class="tag-list">
      
        <a href="/tags/wget">#wget</a>
      
        <a href="/tags/tedtalk">#tedtalk</a>
      
        <a href="/tags/podcast">#podcast</a>
      
        <a href="/tags/linux">#linux</a>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/01/17/productivity-tip-2-dropbox/">
        Productivity tip #2 : Use a Dropbox
      </a>
    </h1>

    <span class="post-date">17 Jan 2012</span>

    <p>Here&#39;s one more post in my productivity serie. This one is about the Dropbox
service.</p>

<h2>What is Dropbox ?</h2>

<p>In a nutshell, Dropbox is a private hosting service, based on a cloud
infrastructure. Once you&#39;ve installed the app, one of your folders (default to
<code>~/Dropbox</code>) became synchronized with your Dropbox account. Every document
that you save in that folder, and any subfolder you create, will immediatly be
saved online in your Dropbox account.</p>

<p>In the real world, it means that you can easily share one folder and all its
documents easily between all your computers. If you don&#39;t want to install the
app, you can simply log to <a href="http://www.dropbox.com">dropbox.com</a> and
download/upload any file you want.</p>

<h2>How I use it</h2>

<p>There a few ways you can use Dropbox. Here are a few of mine, feel free to add
yours in the comments.</p>

<p>As I used to work on Windows (and I still have to sometimes), I always had to
install a bunch of apps on a brand new computer before being able to start
working. This includes the traditional antivirus, browser, music player, IDE,
etc. Instead of going through the laborious process of downloading all the
installer on each of the websites, I&#39;ve saved them in my Dropbox and I just
have to install Dropbox, then install the apps I need.</p>

<p>Instead of a bunch of <code>todo.txt</code> files spread accross all your computers,
wouldn&#39;t it be tidier to only have one, shared ?</p>

<p>The same goes for the KeePass file, so you can have an easy access to all your
passwords.</p>

<p>I also use it to synchronize my Tomboy notes between my computers (I&#39;ll go
into more details in another note).</p>

<p>It might be a bit excessive, but I personnally also share my icons, sounds,
wallpapers and other customization stuff, so I won&#39;t feel lost on a new
computer.</p>

<p>Thanks to the amazing <a href="http://www.getdoxie.com">Doxie scanner</a> (more on that
on another note), I&#39;m now a scan junkie. I scan all the official paperwork I
got in my physical mailbox and store it in the Dropbox.</p>

<p>Be it a bill or a banking receipt, I scan anything that looks like official
and that I might need again one day. That way, I know I can always connect to
<a href="http://www.dropbox.com">dropbox.com</a> and find any official document of the
past 5 years in a matter of minutes. This saved my day quite a few time
already !</p>

<h2>Last words</h2>

<p>Dropbox is a free service. You can have 2Go for free, or pay for a more space.
I personnaly only use a fraction of that so I stay on the free plan. I haven&#39;t
mentionned it because I don&#39;t use it, but you can also share some folders with
other Dropbox users, which is a nice addition when working on the same
project.</p>


    <div class="tag-list">
      
        <a href="/tags/doxie">#doxie</a>
      
        <a href="/tags/keepass">#keepass</a>
      
        <a href="/tags/productivity">#productivity</a>
      
        <a href="/tags/dropbox">#dropbox</a>
      
        <a href="/tags/scanner">#scanner</a>
      
        <a href="/tags/tomboy">#tomboy</a>
      
        <a href="/tags/paperwork">#paperwork</a>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/01/07/visited-pseudo-class-specificity-gotcha/">
        The :visited pseudo-class specificity gotcha
      </a>
    </h1>

    <span class="post-date">07 Jan 2012</span>

    <p>In a <a href="/blog/333:alternative-multiples-classes-ie6">previous post</a>, I bloggued
about the way to emulate OOCSS behavior with multiple classes in IE6.</p>

<p>Today, I&#39;ll do a follow up and write about a possible gotcha involving the
<code>:visited</code> pseudo class.</p>

<p>Following the previous example let&#39;s imagine you have a styling for your
defauls links (<code>a { color:blue; }</code>), one for the default buttons (<code>.button {
... }</code> ) and one for a custom button that extend the <code>.button</code> (<code>.customButton
{ ... }</code>)</p>

<p>Now, imagine that you&#39;ll want to style all <code>:visited</code> links the same way non-
visited links are styled. You might write something like :</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">a</span><span class="o">,</span> <span class="nt">a</span><span class="nd">:visited</span> <span class="p">{</span> <span class="k">color</span><span class="o">:</span><span class="nb">blue</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div>
<p>Unfortunatly, this will have some nasty side effects on your <code>.button</code> and
<code>.customButton</code> rules because <code>a:visited</code> will have precedence over <code>.button</code>
and <code>.customButton</code></p>

<p>You can find more information about CSS specificity in this <a href="http://www.stuffandnonsense.co.uk/archives/css_specificity_wars.html">Star
Wars</a>
post.</p>

<p>Your first solution could be to add even more specificity to your own rules,
to override the <code>a:visited</code> one, like so :</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.button</span><span class="o">,</span> <span class="nc">.button</span><span class="nd">:visited</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
<span class="nc">.customButton</span><span class="o">,</span> <span class="nc">.customButton</span><span class="nd">:visited</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</code></pre></div>
<p>This will work, of course, but you&#39;re only adding complexity to your
specificities, and this get more and more tedious the more you add other
customised buttons.</p>

<p>In fact, there is a much better way, one that you could throw in your
<code>reset.css</code> if it isn&#39;t there already :</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">a</span><span class="nd">:visited</span> <span class="p">{</span> <span class="k">color</span><span class="o">:</span><span class="k">inherit</span><span class="p">;</span> <span class="p">}</span>
</code></pre></div>
<p>That way, all your visited links will inherit their color from their non-
visited version. This mean that visited <code>.button</code> will use the <code>.button</code>
color, visited <code>.customButton</code> will use <code>.customButton</code> color and simple
visited links will use the <code>a</code> color.</p>

<p>Of course, if you defined a <code>background-color</code> in your <code>a</code>, you should define
a <code>background-color:inherit</code> in your <code>a:visited</code> too.</p>


    <div class="tag-list">
      
        <a href="/tags/css">#css</a>
      
        <a href="/tags/visited">#visited</a>
      
    </div>
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/01/06/alternative-multiple-classes-ie6/">
        Alternative way for multiple classes in IE6
      </a>
    </h1>

    <span class="post-date">06 Jan 2012</span>

    <p>In a pure OOCSS style of writing CSS, let&#39;s imagine you created a css class of
<code>.button</code> that visually turns a simple link into a button.</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;button&quot;</span><span class="nt">&gt;</span>I&#39;m a button<span class="nt">&lt;/a&gt;</span>
</code></pre></div>
<p>Now, if you want to define a custom version of your button, let&#39;s say a button
that will trigger a very dangerous action, you might want to style it
differently, so our user will think twice before hitting it.</p>

<p>You got two ways of achieving this, depending if you still support IE6 or not.</p>

<h2>Simple way for non-IE6</h2>

<p>If you don&#39;t care about IE6 (and hell, it&#39;s 2012, you shouldn&#39;t), you just
have to add a second class to your button/link :</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;button dangerous&quot;</span><span class="nt">&gt;</span>I&#39;m a dangerous button<span class="nt">&lt;/a&gt;</span>
</code></pre></div>
<p>And in your CSS file, just define some special styles (like a red
<code>background</code>) to your dangerous button.</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.button.dangerous</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</code></pre></div>
<p>Actually, that&#39;s the path followed by <a href="http://twitter.github.com/bootstrap/">Bootstrap
</a>(among others). But it will not
correctly work in IE6, because it does not understand multiple classes rules.
Instead, IE6 will read <code>.button.dangerous {}</code> the same as <code>.dangerous {}</code>.</p>

<p>This will cause problems as soon as you&#39;ll use the <code>.important</code> class on
something else than a <code>.button</code> : IE will apply the <code>.button.dangerous</code> rules
to anything with the <code>.dangerous</code> class.</p>

<h2>Other way, for IE6</h2>

<p>The solution I personnaly use to fix IE6 is to use more explicit classes
instead of using multiple ones. For example, instead of <code>.button.dangerous {}</code>
I&#39;ll use <code>.buttonDangerous {}</code> and write my html like this :</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;button buttonDangerous&quot;</span><span class="nt">&gt;</span>I&#39;m a dangerous button, even on IE6<span class="nt">&lt;/a&gt;</span>
</code></pre></div>
<p>That way, the link will have both the styles of <code>.button</code> and
<code>.buttonDangerous</code>. This will assure cross compatibility with IE6, at the
expense of a (arguably) less readable markup.</p>

<p>As of today, I hope that I&#39;ll never have to code for IE6 websites again, but
if you ever need to, that&#39;s a little trick that can really help.</p>


    <div class="tag-list">
      
        <a href="/tags/ie6">#ie6</a>
      
        <a href="/tags/css">#css</a>
      
        <a href="/tags/button">#button</a>
      
    </div>
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page6">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page4">Newer</a>
    
  
</div>

  </div>

</body>

</html>
